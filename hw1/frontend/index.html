<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>My Diary</title>
  <script defer src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.0/axios.min.js"
    integrity="sha512-aoTNnqZcT8B4AmeCFmiSnDlc4Nj/KPaZyB5G7JnOnUEkdNpCZs1LCankiYi01sLTyWy+m2P+W4XM+BuQ3Q4/Dg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <header>
    <h1>My Diary</h1>
  </header>
  <main>
    <button id="add-diary-btn">新增日記卡</button>
    <div class="diary-cards">
      <!-- Diary cards will be generated here -->
    </div>
  </main>
  <div class="diary-modal">
    <!-- Diary content and editing form will be displayed here -->
  </div>
</body>

<template id="edit-modal-template">
  <div class="diary-form" id="edit-form">
    <h2 class="mode-indicator">編輯模式</h2>
    <!-- <h2 class="date">${diary.date}</h2> -->
    <label class="form-label" id="label-date-input">日期
      <input type="date" id="date-input">
    </label>
    <div id="container-input">
      <label class="form-label" id="label-tag-dropdown">標籤
        <select class="form-dropdown" id="tag-dropdown">
          <option value="school">學業</option>
          <option value="relationship">人際</option>
          <option value="club">社團</option>
        </select>
      </label>
      <label class="form-label" id="label-mood-dropdown">心情
        <select class="form-dropdown" id="mood-dropdown">
          <option value="happy">快樂</option>
          <option value="angry">生氣</option>
          <option value="sad">難過</option>
        </select>
      </label>
      <button id="view-diary-btn">瀏覽</button>
    </div>
    <textarea id="diary-content" rows="5" cols="40">${diary.content}</textarea>
    <button id="save-diary-btn">儲存</button>
    <button id="cancel-diary-btn">取消</button>
  </div>
</template>

<template id="view-modal-template">
  <div class="diary-form" id="view-form">
    <h2 class="mode-indicator">瀏覽模式</h2>
    <h3 id="date-view">${diary.date}</h3>
    <div id="container-input">
      <label class="form-label">標籤
        <p id="tag-view">${diary.tags.join(', ')}</p>
      </label>
      <label class="form-label">心情
        <p id="mood-view">心情: ${diary.mood}</p>
      </label>
      <textarea id="diary-content-view" rows="5" cols="40" placeholder="今天在想什麼？">${diary.content}</textarea>
      <button id="edit-diary-btn">編輯</button>
    </div>
  </div>
</template>

<template id="diary-card-template">
  <details id="" class="diary-card">
    <summary>
      <p class="diary-date">${diary.date}</p>
      <label class="card-label">標籤
        <p class="diary-tag">${diary.tags.join(', ')}</p>
      </label>
      <label class="card-label">心情
        <p class="diary-mood">${diary.mood}</p>
      </label>
      <button class="open-diary-btn">打開日記頁</button>
    </summary>
    <p class="diary-content">${diary.content}</p>
  </details>
</template>

</html>